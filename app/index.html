<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bug Pass</title>
  <script src="./app.js" type="text/javascript"></script>
  <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
  <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
  <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
  <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <label id=confAddress> Deployed at:</label>

  <div class="container-fluid">
    <button id="showNgoList" class="btn" data-toggle="button">
      showNgoList
    </button>
  </div>


  <!-- 按钮 -->
  <p class="text-right">
  <button type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal1">register</button>
  <button type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal2">login</button>
  </p>
  <div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-body">
                  <form>
                  <table class="table">
                    <tr>
                      <th> <p class="text-left">Address: </p> </th>
                      <th> <input type="text" id="NgoAd"/> </th>
                    </tr>
                    <tr>
                      <th> <p class="text-left">Name: </p> </th>
                      <th> <input type="text" id="NgoNa"/> </th>
                    </tr>
                    <tr>
                      <th> <p class="text-left">Password: </p> </th>
                      <th> <input type="password" id="NgoPa"/> </th>
                    </tr>
                    </table>
                  </form>
                  <input type="hidden" id="act" value="add" name="act"/>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal"> Close </button>
                  <button id="createNgo" type="submit" class="btn btn-primary"> Regiter </button>
              </div>
          </div>
      </div>
  </div>
  <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-body">
                <form>
                <table class="table">
                  <tr>
                    <th> <p class="text-left">Name: </p> </th>
                    <th> <input id="companyName"/> </th>
                  </tr>
                  <tr>
                    <th> <p class="text-left">Password: </p> </th>
                    <th> <input id="passWord"/> </th>
                  </tr>
                </table>
                </form>
                  <input type="hidden" id="act" value="add" name="act"/>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">close  </button>
                  <button type="button" onclick="add_info()" class="btn btn-primary">log in <button>
              </div>
          </div>
      </div>
  </div>


  <!--公司介绍 -->
  <a href="#" class="lead">company</a>
  <p id="introduction">introduceintroduceintroduceintroduceintroduceintroduceintroduceintroduceintroduceintroduceintroduceintroduceintroduceintroduceintroduce</p>

  <!--接收人信息 -->
  <table class="table table-striped">
    <h1 class="text-center">Receiver information</h1>
    <thead>
      <tr>
        <th>Name</th>
        <th>Address</th>
      </tr>
    </thead>
    <tbody id="receiverInfo">
      <tr>
        <td>无</td>
        <td>无</td>
      </tr>

    </tbody>
  </table>

  <!--交易信息-->
    <h1 class="text-center">Transaction</h1>

    <table class="table table-hover table-condensed table-bordered">
      <caption>Transaction History</caption>
      <thead>
        <tr>
           <th>Receiver</th>
           <th>Amount(Ether)</th>
           <th>Detail</th>
        </tr>
      </thead>
      <tbody id="transaction">
        <tr>
           <td>无</td>
           <td>无</td>
           <td>无</td>
        </tr>

      </tbody>
    </table>

			<a href="template/trade.html" style="display: block; width: 50px;line-height: 35px; background: burlywood;text-align: center; border-radius: 5px;margin: 0 auto;" >trade</a>
      <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
      <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<script>
		var name = sessionStorage.getItem('name');
		var address = sessionStorage.getItem('address');
		var tradeInfo = sessionStorage.getItem('tradeInfo');
				console.log(tradeInfo);


		if(name!=null){
			console.log(1);
			$('#introduction')[0].innerHTML = name;
		}
		if(address!=null){
			console.log(2);
		}
		if(tradeInfo !=null){
			var amountInfo = tradeInfo.split(',');
			console.log(amountInfo);
			var len = amountInfo.length;
			var len1 = len/4;
			var str1 = '';
			var str2 = '';
			for(var i=0; i<len1; i++){
				 str1 += '<tr><td>' + amountInfo[i*4] + '</td><td>' + amountInfo[i*4+2] + '</td></tr>';
				 str2 += '<tr><td>' + amountInfo[i*4] + '</td><td>' + amountInfo[i*4+1]+ '</td><td>' + amountInfo[i*4+3] + '</td></tr>';

			}
			$('#receiverInfo')[0].innerHTML = str1;
			$('#transaction')[0].innerHTML = str2;
			console.log(len)

		}

		function add_info(){

    		sessionStorage.setItem('name',$("#companyName").val()) //缓存公司名称
//  		App.lginNgo(String($("#companyName").val()), $("#passWord").val());
    		location.reload();
    };

	</script>
</body>

</html>
